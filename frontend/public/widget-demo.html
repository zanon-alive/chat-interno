<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demo - Chat Widget Embarc√°vel</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    h1 {
      color: #667eea;
      margin-bottom: 10px;
      font-size: 2.5rem;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 1.1rem;
    }

    .demo-section {
      margin-bottom: 40px;
    }

    .demo-section h2 {
      color: #333;
      margin-bottom: 15px;
      font-size: 1.5rem;
    }

    .info-box {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
    }

    .info-box h3 {
      color: #667eea;
      margin-bottom: 10px;
      font-size: 1.2rem;
    }

    .info-box p {
      color: #495057;
      line-height: 1.6;
      margin-bottom: 10px;
    }

    .code-block {
      background: #282c34;
      color: #abb2bf;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .code-block .comment {
      color: #5c6370;
    }

    .code-block .string {
      color: #98c379;
    }

    .code-block .function {
      color: #61afef;
    }

    .btn-group {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background: #5a6268;
    }

    .btn-danger {
      background: #dc3545;
      color: white;
    }

    .btn-danger:hover {
      background: #c82333;
    }

    .status {
      display: inline-block;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 600;
      margin-top: 10px;
    }

    .status.success {
      background: #d4edda;
      color: #155724;
    }

    .status.error {
      background: #f8d7da;
      color: #721c24;
    }

    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .feature-card {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      border: 2px solid #e9ecef;
    }

    .feature-card h4 {
      color: #667eea;
      margin-bottom: 10px;
    }

    .feature-card p {
      color: #6c757d;
      font-size: 14px;
      line-height: 1.5;
    }

    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 2px solid #e9ecef;
      text-align: center;
      color: #6c757d;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üéâ Chat Widget Embarc√°vel</h1>
    <p class="subtitle">Demonstra√ß√£o do widget de chat que pode ser integrado em qualquer sistema</p>

    <!-- Informa√ß√µes -->
    <div class="demo-section">
      <h2>üìã Sobre</h2>
      <div class="info-box">
        <h3>O que √©?</h3>
        <p>Um widget de chat flutuante que pode ser facilmente embarcado em sistemas legados, portais, ERPs, CRMs ou qualquer aplica√ß√£o web.</p>
        <p><strong>Apenas 2 linhas de c√≥digo s√£o necess√°rias para integrar!</strong></p>
      </div>
    </div>

    <!-- Controles -->
    <div class="demo-section">
      <h2>üéÆ Controles</h2>
      <div class="btn-group">
        <button class="btn btn-primary" onclick="initWidget()">
          Inicializar Widget
        </button>
        <button class="btn btn-secondary" onclick="openWidget()">
          Abrir Widget
        </button>
        <button class="btn btn-secondary" onclick="closeWidget()">
          Fechar Widget
        </button>
        <button class="btn btn-danger" onclick="destroyWidget()">
          Destruir Widget
        </button>
      </div>
      <div id="status"></div>
    </div>

    <!-- Como Integrar -->
    <div class="demo-section">
      <h2>üöÄ Como Integrar (2 linhas!)</h2>
      <p>Adicione este c√≥digo no seu HTML:</p>
      <div class="code-block">
<span class="comment">&lt;!-- 1. Incluir o script do widget --&gt;</span>
&lt;script src="http://localhost:5173/dist/widget/chat-widget.iife.js"&gt;&lt;/script&gt;

<span class="comment">&lt;!-- 2. Inicializar com seu token JWT --&gt;</span>
&lt;script&gt;
  <span class="function">ChatWidget.init</span>({
    token: <span class="string">'SEU_JWT_TOKEN_AQUI'</span>,
    apiUrl: <span class="string">'http://localhost:3000'</span>,
    position: <span class="string">'bottom-right'</span>, <span class="comment">// ou 'bottom-left'</span>
    theme: <span class="string">'light'</span>,
    minimized: <span class="function">true</span>
  });
&lt;/script&gt;
      </div>
    </div>

    <!-- Configura√ß√µes Avan√ßadas -->
    <div class="demo-section">
      <h2>‚öôÔ∏è Configura√ß√µes Avan√ßadas</h2>
      <div class="code-block">
<span class="function">ChatWidget.init</span>({
  <span class="comment">// Autentica√ß√£o (obrigat√≥rio)</span>
  token: <span class="string">'eyJhbGciOiJIUzI1NiIs...'</span>,
  
  <span class="comment">// URLs</span>
  apiUrl: <span class="string">'https://api.chat.empresa.com'</span>,
  socketUrl: <span class="string">'wss://api.chat.empresa.com'</span>, <span class="comment">// opcional</span>
  
  <span class="comment">// Apar√™ncia</span>
  position: <span class="string">'bottom-right'</span>,    <span class="comment">// 'bottom-right' | 'bottom-left'</span>
  theme: <span class="string">'light'</span>,              <span class="comment">// 'light' | 'dark'</span>
  primaryColor: <span class="string">'#667eea'</span>,     <span class="comment">// cor customizada</span>
  
  <span class="comment">// Comportamento</span>
  minimized: <span class="function">true</span>,             <span class="comment">// iniciar minimizado</span>
  autoOpen: <span class="function">false</span>,             <span class="comment">// abrir automaticamente</span>
  showNotifications: <span class="function">true</span>,    <span class="comment">// notifica√ß√µes browser</span>
  playSound: <span class="function">true</span>,             <span class="comment">// som nas mensagens</span>
  
  <span class="comment">// Callbacks</span>
  <span class="function">onReady</span>: () => console.log(<span class="string">'Widget pronto!'</span>),
  <span class="function">onMessage</span>: (msg) => console.log(<span class="string">'Nova mensagem:'</span>, msg),
  <span class="function">onOpen</span>: () => console.log(<span class="string">'Widget aberto'</span>),
  <span class="function">onClose</span>: () => console.log(<span class="string">'Widget fechado'</span>)
});
      </div>
    </div>

    <!-- Funcionalidades -->
    <div class="demo-section">
      <h2>‚ú® Funcionalidades</h2>
      <div class="features">
        <div class="feature-card">
          <h4>üì± Totalmente Responsivo</h4>
          <p>Adapta-se perfeitamente a desktop, tablet e mobile</p>
        </div>
        <div class="feature-card">
          <h4>‚ö° Tempo Real</h4>
          <p>Mensagens instant√¢neas via Socket.IO</p>
        </div>
        <div class="feature-card">
          <h4>üîî Notifica√ß√µes</h4>
          <p>Badges e notifica√ß√µes browser autom√°ticas</p>
        </div>
        <div class="feature-card">
          <h4>üé® Customiz√°vel</h4>
          <p>Cores, posi√ß√£o e tema configur√°veis</p>
        </div>
        <div class="feature-card">
          <h4>üîí Seguro</h4>
          <p>Autentica√ß√£o JWT e multi-tenancy</p>
        </div>
        <div class="feature-card">
          <h4>üöÄ Leve e R√°pido</h4>
          <p>Bundle otimizado e compactado</p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p><strong>Chat Interno v1.2-MVP</strong></p>
      <p>Sistema profissional de chat embarc√°vel para empresas</p>
    </div>
  </div>

  <!-- Scripts do Widget -->
  <script>
    // Simular token JWT (em produ√ß√£o, vir√° do sistema legado)
    const DEMO_TOKEN = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MiwidXNlcklkIjoyLCJpbnN0YW5jaWFJZCI6MSwiZW1haWwiOiJwZWRyby5vbGl2ZWlyYUBlbXByZXNhZGVtby5jb20iLCJpYXQiOjE3Mzk4Mzk3NTksImV4cCI6MTczOTkyNjE1OX0.RUc9pKZZOj1fKzq5d2oF8m7HDL0KwHLpVXBl_yQYz5I';

    let widgetInitialized = false;

    function showStatus(message, type = 'success') {
      const statusDiv = document.getElementById('status');
      statusDiv.innerHTML = `<div class="status ${type}">${message}</div>`;
      setTimeout(() => {
        statusDiv.innerHTML = '';
      }, 3000);
    }

    function initWidget() {
      if (widgetInitialized) {
        showStatus('‚ö†Ô∏è Widget j√° est√° inicializado!', 'error');
        return;
      }

      try {
        if (typeof ChatWidget === 'undefined') {
          showStatus('‚ùå ChatWidget n√£o encontrado! Execute: npm run build:widget', 'error');
          alert('Para testar o widget:\n\n1. npm run build:widget\n2. Recarregue a p√°gina\n3. Clique em "Inicializar Widget"');
          return;
        }

        ChatWidget.init({
          token: DEMO_TOKEN,
          apiUrl: 'http://localhost:3000',
          position: 'bottom-right',
          theme: 'light',
          minimized: true,
          onReady: () => {
            console.log('‚úÖ Widget pronto!');
            showStatus('‚úÖ Widget inicializado com sucesso!', 'success');
          },
          onMessage: (msg) => {
            console.log('üì® Nova mensagem:', msg);
          },
          onOpen: () => {
            console.log('üöÄ Widget aberto');
          },
          onClose: () => {
            console.log('üì¶ Widget fechado');
          }
        });

        widgetInitialized = true;
      } catch (error) {
        console.error('Erro ao inicializar widget:', error);
        showStatus('‚ùå Erro ao inicializar widget', 'error');
      }
    }

    function openWidget() {
      if (!widgetInitialized) {
        showStatus('‚ö†Ô∏è Inicialize o widget primeiro!', 'error');
        return;
      }
      ChatWidget.open();
      showStatus('üöÄ Widget aberto', 'success');
    }

    function closeWidget() {
      if (!widgetInitialized) {
        showStatus('‚ö†Ô∏è Inicialize o widget primeiro!', 'error');
        return;
      }
      ChatWidget.close();
      showStatus('üì¶ Widget fechado', 'success');
    }

    function destroyWidget() {
      if (!widgetInitialized) {
        showStatus('‚ö†Ô∏è Widget n√£o est√° inicializado!', 'error');
        return;
      }
      ChatWidget.destroy();
      widgetInitialized = false;
      showStatus('üóëÔ∏è Widget destru√≠do', 'success');
    }

    // Info sobre como testar
    console.log(`
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë   üéâ DEMO - CHAT WIDGET EMBARC√ÅVEL           ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                                               ‚ïë
‚ïë  Para testar o widget:                        ‚ïë
‚ïë                                               ‚ïë
‚ïë  1. npm run build:widget                      ‚ïë
‚ïë  2. Recarregue esta p√°gina                    ‚ïë
‚ïë  3. Clique em "Inicializar Widget"            ‚ïë
‚ïë                                               ‚ïë
‚ïë  APIs dispon√≠veis:                            ‚ïë
‚ïë  - ChatWidget.init({ ... })                   ‚ïë
‚ïë  - ChatWidget.open()                          ‚ïë
‚ïë  - ChatWidget.close()                         ‚ïë
‚ïë  - ChatWidget.destroy()                       ‚ïë
‚ïë                                               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
    `);
  </script>

  <!-- Incluir o widget (descomente ap√≥s build) -->
  <!-- <script src="../dist/widget/chat-widget.iife.js"></script> -->
</body>
</html>

