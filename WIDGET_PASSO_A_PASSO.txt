╔════════════════════════════════════════════════════════════════╗
║                                                                ║
║       🎨 WIDGET COM BACKEND ONLINE - PASSO A PASSO            ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  📋 PREPARAÇÃO (5 minutos)                                     ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  1️⃣  INICIAR BACKEND                                          ║
║                                                                ║
║     Terminal 1:                                                ║
║     cd /home/zanonr/desenvolvimento/chat-interno/backend      ║
║     npm run dev                                                ║
║                                                                ║
║     ✅ Aguarde: "🚀 Servidor rodando em http://localhost:3000"║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  2️⃣  OBTER TOKEN VÁLIDO                                       ║
║                                                                ║
║     Terminal 2:                                                ║
║     cd /home/zanonr/desenvolvimento/chat-interno              ║
║     ./obter-token.sh                                           ║
║                                                                ║
║     ✅ Copie o token exibido (linha grande começando eyJ...)  ║
║     ✅ Token salvo automaticamente em: .widget-token.txt      ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  3️⃣  ATUALIZAR TOKEN NO DASHBOARD                            ║
║                                                                ║
║     Abra o arquivo:                                            ║
║     exemplo-dashboard.html                                     ║
║                                                                ║
║     Procure a linha (~536):                                    ║
║     const chatToken = 'eyJ...ANTIGO...';                       ║
║                                                                ║
║     Substitua pelo token copiado:                              ║
║     const chatToken = 'eyJ...NOVO...';                         ║
║                                                                ║
║     Salve o arquivo (Ctrl+S)                                   ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  4️⃣  INICIAR SERVIDOR HTTP                                    ║
║                                                                ║
║     Terminal 3 (ou Terminal 2):                                ║
║     python3 -m http.server 8080                                ║
║                                                                ║
║     ✅ Aguarde: "Serving HTTP on 0.0.0.0 port 8080"           ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  5️⃣  ABRIR NO NAVEGADOR                                       ║
║                                                                ║
║     http://localhost:8080/exemplo-dashboard.html              ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  ✅ RESULTADO ESPERADO                                         ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  Console do Navegador:                                         ║
║  ─────────────────────                                         ║
║  🔍 Verificando ChatWidget...                                 ║
║  ✅ ChatWidget encontrado!                                    ║
║  🔌 Tentando conectar ao servidor...                          ║
║  ✅ Socket.IO conectado!                                      ║
║  ✅ Chat Widget inicializado com sucesso!                     ║
║  💬 Clique no widget no canto inferior direito                ║
║                                                                ║
║  Widget Visual:                                                ║
║  ─────────────                                                 ║
║  ┌──────────────────────────────┐                             ║
║  │ 💬 Chat              [3]     │  ← Canto inferior direito   ║
║  │ João, Maria, Pedro...        │                             ║
║  └──────────────────────────────┘                             ║
║                                                                ║
║  Ao Clicar:                                                    ║
║  ──────────                                                    ║
║  ┌──────────────────────────────┐                             ║
║  │ 💬 Chat Interno      [−] [×] │                             ║
║  ├──────────────────────────────┤                             ║
║  │ Conversas:                   │                             ║
║  │ • João Silva (2)             │                             ║
║  │ • Maria Santos (1)           │                             ║
║  ├──────────────────────────────┤                             ║
║  │ [Chat completo funcionando!] │                             ║
║  └──────────────────────────────┘                             ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  🧪 TESTE FUNCIONAL                                            ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  1. Abra DUAS abas do navegador                                ║
║                                                                ║
║  Aba 1: http://localhost:8080/exemplo-dashboard.html          ║
║  (Widget com Pedro Oliveira)                                   ║
║                                                                ║
║  Aba 2: http://localhost:5173                                 ║
║  Login: ana.costa@empresademo.com / User@123456               ║
║                                                                ║
║  2. Aba 2 (Ana): Envie mensagem para Pedro                     ║
║                                                                ║
║  3. Aba 1 (Dashboard): Veja badge aparecer no widget! ⚡      ║
║                                                                ║
║  4. Aba 1 (Dashboard): Clique no widget                        ║
║                                                                ║
║  5. Aba 1 (Dashboard): Veja a mensagem de Ana! 🎉             ║
║                                                                ║
║  6. Aba 1 (Dashboard): Responda!                               ║
║                                                                ║
║  7. Aba 2 (Ana): Veja a resposta em tempo real! ⚡            ║
║                                                                ║
╠════════════════════════════════════════════════════════════════╣
║                                                                ║
║  🎊 TUDO FUNCIONANDO PERFEITAMENTE!                            ║
║                                                                ║
║  • Widget integrado em sistema legado ✅                      ║
║  • Mensagens em tempo real ✅                                 ║
║  • Backend online ✅                                          ║
║  • Preview de conversas ✅                                    ║
║  • Badges funcionando ✅                                      ║
║  • Chat completo ✅                                           ║
║  • Sistema hospedeiro não afetado ✅                          ║
║                                                                ║
╚════════════════════════════════════════════════════════════════╝

COMANDOS RÁPIDOS:

Backend:    cd backend && npm run dev
Token:      ./obter-token.sh
Servidor:   python3 -m http.server 8080
URL:        http://localhost:8080/exemplo-dashboard.html

BOA SORTE! 🚀
